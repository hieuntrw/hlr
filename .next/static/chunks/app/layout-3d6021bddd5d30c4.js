(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{5175:function(e,t,r){Promise.resolve().then(r.t.bind(r,7960,23)),Promise.resolve().then(r.bind(r,1344))},1344:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var s=r(7437),l=r(2265),n=r(7648),a=r(9376),i=r(9203);let c=[{label:"Tổng quan",href:"/dashboard",icon:"\uD83D\uDCCA"},{label:"Bảng V\xe0ng",href:"/hall-of-fame",icon:"\uD83C\uDFC6"},{label:"Thử Th\xe1ch",href:"/challenges",icon:"\uD83C\uDFC3"},{label:"Sự Kiện",href:"/events",icon:"\uD83D\uDCC5"},{label:"Hồ Sơ",href:"/profile",icon:"\uD83D\uDC64"}],o=[{label:"Quản Trị",href:"/admin",icon:"⚙️",requiredRoles:["admin","mod_finance","mod_challenge","mod_member"]}];function u(){let e=(0,a.usePathname)(),[t,r]=(0,l.useState)(!1),[u,d]=(0,l.useState)(null),[f,h]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=()=>{r(window.innerWidth<768)};return window.addEventListener("resize",e),e(),()=>window.removeEventListener("resize",e)},[]),(0,l.useEffect)(()=>{(async function(){let{data:{user:e}}=await i.O.auth.getUser();if(e){let{data:t}=await i.O.from("profiles").select("id, role").eq("id",e.id).single();t&&d(t)}})()},[]);let m=[...c,...o.filter(e=>!e.requiredRoles||e.requiredRoles.includes((null==u?void 0:u.role)||"member"))],x=t=>e===t;return t?(0,s.jsx)("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg md:hidden",children:(0,s.jsxs)("div",{className:"flex justify-around items-center h-16",children:[m.slice(0,5).map(e=>(0,s.jsxs)(n.default,{href:e.href,className:"flex flex-col items-center justify-center flex-1 h-full transition-colors ".concat(x(e.href)?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"),onClick:()=>h(!1),children:[(0,s.jsx)("span",{className:"text-xl mb-1",children:e.icon}),(0,s.jsx)("span",{className:"text-xs font-medium",children:e.label})]},e.href)),m.length>5&&(0,s.jsxs)("div",{className:"relative flex flex-col items-center justify-center flex-1 h-full",children:[(0,s.jsxs)("button",{onClick:()=>h(!f),className:"flex flex-col items-center justify-center transition-colors ".concat(f?"text-blue-600 bg-blue-50":"text-gray-600 hover:text-gray-900"),children:[(0,s.jsx)("span",{className:"text-xl mb-1",children:"⋯"}),(0,s.jsx)("span",{className:"text-xs font-medium",children:"More"})]}),f&&(0,s.jsx)("div",{className:"absolute bottom-full right-0 bg-white border border-gray-200 rounded-lg shadow-lg mb-2 w-40",children:m.slice(5).map(e=>(0,s.jsxs)(n.default,{href:e.href,className:"block px-4 py-2 transition-colors ".concat(x(e.href)?"text-blue-600 bg-blue-50":"text-gray-700 hover:bg-gray-100"),onClick:()=>h(!1),children:[e.icon," ",e.label]},e.href))})]})]})}):(0,s.jsxs)("nav",{className:"hidden md:flex flex-col w-56 bg-white border-r border-gray-200 h-full shadow-sm sticky top-0",children:[(0,s.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-blue-600",children:"HLR Running"}),(0,s.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Running Club"})]}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:m.map(e=>(0,s.jsxs)(n.default,{href:e.href,className:"flex items-center gap-3 px-4 py-3 rounded-lg transition-all ".concat(x(e.href)?"bg-blue-100 text-blue-600 font-semibold":"text-gray-700 hover:bg-gray-100"),children:[(0,s.jsx)("span",{className:"text-xl",children:e.icon}),(0,s.jsx)("span",{children:e.label})]},e.href))}),(0,s.jsx)("div",{className:"p-4 border-t border-gray-200",children:(0,s.jsx)("div",{className:"text-sm text-gray-600",children:(0,s.jsxs)("p",{className:"font-semibold text-gray-900",children:["Role: ",(0,s.jsx)("span",{className:"text-blue-600 capitalize",children:(null==u?void 0:u.role)||"member"})]})})})]})}},9203:function(e,t,r){"use strict";r.d(t,{O:function(){return a}});var s=r(7421);let l="https://jvnpxcwjfidrlqlfmuvl.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imp2bnB4Y3dqZmlkcmxxbGZtdXZsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQzODI3MTUsImV4cCI6MjA3OTk1ODcxNX0.9DQsgYHtU285oG2Twzr5mw71z4_5EiUDzry--bdf5lU";if(!l||!n)throw Error("Missing Supabase environment variables");let a=(0,s.eI)(l,n)},7648:function(e,t,r){"use strict";r.d(t,{default:function(){return l.a}});var s=r(2972),l=r.n(s)},9376:function(e,t,r){"use strict";var s=r(5475);r.o(s,"usePathname")&&r.d(t,{usePathname:function(){return s.usePathname}}),r.o(s,"useRouter")&&r.d(t,{useRouter:function(){return s.useRouter}}),r.o(s,"useSearchParams")&&r.d(t,{useSearchParams:function(){return s.useSearchParams}})},7960:function(){}},function(e){e.O(0,[587,421,972,971,117,744],function(){return e(e.s=5175)}),_N_E=e.O()}]);